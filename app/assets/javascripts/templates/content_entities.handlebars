<script>
$("textarea").keyup(function (e) {
    autoheight(this);
});

function autoheight(a) {
    if (!$(a).prop('scrollTop')) {
        do {
            var b = $(a).prop('scrollHeight');
            var h = $(a).height();
            $(a).height(h - 5);
        }
        while (b && (b != $(a).prop('scrollHeight')));
    };
    $(a).height($(a).prop('scrollHeight') + 10);
}
</script>

<div id="container">
  <div class="well">
    <form class="form-horizontal" role="form" {{action "addEntry" on="submit"}}>
    <h4>Add content</h4>
      <div class="input-group" style="padding:14px;">
        {{view Ember.TextArea name='content_entity[content]' valueBinding="newEntryName" class="form-control" required="true" onkeyup="textAreaAdjust(this)"}}
      <span class="input-group-btn">
        <button class="btn btn-success" type="submit">Add</button>
      </span>
      </div>
    </form>
  </div>
</div>


<div class="list-group">
  {{#each content_entity in paginatedContent itemController="ContentEntity"}}
    {{#link-to "content_entity" content_entity class="list-group-item"}}
      <img {{bind-attr src=content_entity.image}} style="width:50px;height:50px">
      <b>{{content_entity.type}}</b>
      <small style="font-family:courier,'new courier';" class="text-muted pull-right">
        {{{content_entity.updated_at}}}
      </small>
      <p class="ellipsis block">
        {{{content_entity.body}}}
      </p>
    {{/link-to}}
  {{/each}}
</div>


{{pagination-links page=page pages=pages}}

